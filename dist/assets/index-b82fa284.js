import{r as m,a as _e,R as He}from"./vendor-b1791c80.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();var xe={exports:{}},z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=m,Ye=Symbol.for("react.element"),We=Symbol.for("react.fragment"),Je=Object.prototype.hasOwnProperty,Ve=Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$e={key:!0,ref:!0,__self:!0,__source:!0};function fe(a,n,t){var s,l={},o=null,d=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(d=n.ref);for(s in n)Je.call(n,s)&&!$e.hasOwnProperty(s)&&(l[s]=n[s]);if(a&&a.defaultProps)for(s in n=a.defaultProps,n)l[s]===void 0&&(l[s]=n[s]);return{$$typeof:Ye,type:a,key:o,ref:d,props:l,_owner:Ve.current}}z.Fragment=We;z.jsx=fe;z.jsxs=fe;xe.exports=z;var e=xe.exports,te={},me=_e;te.createRoot=me.createRoot,te.hydrateRoot=me.hydrateRoot;const W={"montauk-point-ny":{lat:41.0362,lng:-71.8562,name:"Montauk Point, NY",state:"NY"},"cape-cod-ma":{lat:41.6688,lng:-70.2962,name:"Cape Cod, MA",state:"MA"},"block-island-ri":{lat:41.1775,lng:-71.5773,name:"Block Island, RI",state:"RI"},"chesapeake-bay-md":{lat:38.9784,lng:-76.4951,name:"Chesapeake Bay, MD",state:"MD"},"sandy-hook-nj":{lat:40.4168,lng:-74.0018,name:"Sandy Hook, NJ",state:"NJ"},"orient-point-ny":{lat:41.1615,lng:-72.2351,name:"Orient Point, NY",state:"NY"},"race-point-ma":{lat:42.0654,lng:-70.2457,name:"Race Point, MA",state:"MA"},"watch-hill-ri":{lat:41.3079,lng:-71.8565,name:"Watch Hill, RI",state:"RI"},"martha-vineyard-ma":{lat:41.3888,lng:-70.642,name:"Martha's Vineyard, MA",state:"MA"},"nantucket-ma":{lat:41.2835,lng:-70.0995,name:"Nantucket, MA",state:"MA"},"long-island-sound-ct":{lat:41.1015,lng:-72.6732,name:"Long Island Sound, CT",state:"CT"},"rhode-island-sound-ri":{lat:41.4221,lng:-71.4774,name:"Rhode Island Sound, RI",state:"RI"},"buzzards-bay-ma":{lat:41.5389,lng:-70.9481,name:"Buzzards Bay, MA",state:"MA"},"delaware-bay-de":{lat:38.9108,lng:-75.1818,name:"Delaware Bay, DE",state:"DE"},"hudson-river-ny":{lat:41.7658,lng:-73.9776,name:"Hudson River, NY",state:"NY"}},ne=[{name:"Boston",state:"MA",lat:42.3601,lng:-71.0589},{name:"Cambridge",state:"MA",lat:42.3736,lng:-71.1097},{name:"Worcester",state:"MA",lat:42.2626,lng:-71.8023},{name:"Springfield",state:"MA",lat:42.1015,lng:-72.5898},{name:"Lowell",state:"MA",lat:42.6334,lng:-71.3162},{name:"Brockton",state:"MA",lat:42.0834,lng:-71.0184},{name:"New Bedford",state:"MA",lat:41.6362,lng:-70.9342},{name:"Quincy",state:"MA",lat:42.2529,lng:-71.0023},{name:"Lynn",state:"MA",lat:42.4668,lng:-70.9495},{name:"Fall River",state:"MA",lat:41.7015,lng:-71.155},{name:"Newton",state:"MA",lat:42.337,lng:-71.2092},{name:"Somerville",state:"MA",lat:42.3876,lng:-71.0995},{name:"Lawrence",state:"MA",lat:42.707,lng:-71.1631},{name:"Framingham",state:"MA",lat:42.3793,lng:-71.4162},{name:"Haverhill",state:"MA",lat:42.7762,lng:-71.0773},{name:"Waltham",state:"MA",lat:42.3765,lng:-71.2356},{name:"Malden",state:"MA",lat:42.4251,lng:-71.0662},{name:"Brookline",state:"MA",lat:42.3317,lng:-71.1211},{name:"Plymouth",state:"MA",lat:41.9584,lng:-70.6673},{name:"Medford",state:"MA",lat:42.4184,lng:-71.1061},{name:"Taunton",state:"MA",lat:41.9001,lng:-71.0897},{name:"Chicopee",state:"MA",lat:42.1487,lng:-72.6078},{name:"Weymouth",state:"MA",lat:42.218,lng:-70.9395},{name:"Revere",state:"MA",lat:42.4084,lng:-71.012},{name:"Peabody",state:"MA",lat:42.5279,lng:-70.9286},{name:"Methuen",state:"MA",lat:42.7262,lng:-71.1909},{name:"Barnstable",state:"MA",lat:41.7003,lng:-70.3002},{name:"Pittsfield",state:"MA",lat:42.4501,lng:-73.2454},{name:"Attleboro",state:"MA",lat:41.9443,lng:-71.2856},{name:"Everett",state:"MA",lat:42.4084,lng:-71.0537},{name:"Salem",state:"MA",lat:42.5195,lng:-70.8967},{name:"Westfield",state:"MA",lat:42.1251,lng:-72.7495},{name:"Leominster",state:"MA",lat:42.5251,lng:-71.7595},{name:"Fitchburg",state:"MA",lat:42.5834,lng:-71.8023},{name:"Beverly",state:"MA",lat:42.5584,lng:-70.88},{name:"Holyoke",state:"MA",lat:42.2043,lng:-72.6162},{name:"Marlborough",state:"MA",lat:42.3459,lng:-71.5523},{name:"Woburn",state:"MA",lat:42.4792,lng:-71.1523},{name:"Chelsea",state:"MA",lat:42.3918,lng:-71.0328},{name:"Gloucester",state:"MA",lat:42.6142,lng:-70.6631},{name:"New York City",state:"NY",lat:40.7128,lng:-74.006},{name:"Buffalo",state:"NY",lat:42.8864,lng:-78.8784},{name:"Rochester",state:"NY",lat:43.1566,lng:-77.6088},{name:"Yonkers",state:"NY",lat:40.9312,lng:-73.8987},{name:"Syracuse",state:"NY",lat:43.0481,lng:-76.1474},{name:"Albany",state:"NY",lat:42.6526,lng:-73.7562},{name:"New Rochelle",state:"NY",lat:40.9115,lng:-73.7823},{name:"Mount Vernon",state:"NY",lat:40.9126,lng:-73.837},{name:"Schenectady",state:"NY",lat:42.8142,lng:-73.9396},{name:"Utica",state:"NY",lat:43.1009,lng:-75.2327},{name:"White Plains",state:"NY",lat:41.034,lng:-73.7629},{name:"Hempstead",state:"NY",lat:40.7062,lng:-73.6187},{name:"Troy",state:"NY",lat:42.7284,lng:-73.6918},{name:"Niagara Falls",state:"NY",lat:43.0962,lng:-79.0377},{name:"Binghamton",state:"NY",lat:42.0987,lng:-75.918},{name:"Freeport",state:"NY",lat:40.6576,lng:-73.5832},{name:"Valley Stream",state:"NY",lat:40.6642,lng:-73.7084},{name:"Long Beach",state:"NY",lat:40.5885,lng:-73.6579},{name:"Watertown",state:"NY",lat:43.9747,lng:-75.9107},{name:"Jamestown",state:"NY",lat:42.097,lng:-79.2353},{name:"New York",state:"NY",lat:40.7128,lng:-74.006},{name:"Bronx",state:"NY",lat:40.8448,lng:-73.8648},{name:"Brooklyn",state:"NY",lat:40.6782,lng:-73.9442},{name:"Queens",state:"NY",lat:40.7282,lng:-73.7949},{name:"Staten Island",state:"NY",lat:40.5795,lng:-74.1502},{name:"Manhattan",state:"NY",lat:40.7831,lng:-73.9712},{name:"Elmira",state:"NY",lat:42.0898,lng:-76.8077},{name:"Tonawanda",state:"NY",lat:43.0126,lng:-78.8803},{name:"Poughkeepsie",state:"NY",lat:41.7004,lng:-73.9209},{name:"Newburgh",state:"NY",lat:41.5034,lng:-74.0104},{name:"Middletown",state:"NY",lat:41.4459,lng:-74.4226},{name:"Bridgeport",state:"CT",lat:41.1865,lng:-73.1952},{name:"New Haven",state:"CT",lat:41.3083,lng:-72.9279},{name:"Hartford",state:"CT",lat:41.7658,lng:-72.6734},{name:"Stamford",state:"CT",lat:41.0534,lng:-73.5387},{name:"Waterbury",state:"CT",lat:41.5581,lng:-73.0515},{name:"Norwalk",state:"CT",lat:41.1175,lng:-73.4079},{name:"Danbury",state:"CT",lat:41.3948,lng:-73.454},{name:"New Britain",state:"CT",lat:41.6612,lng:-72.7795},{name:"West Haven",state:"CT",lat:41.2707,lng:-72.947},{name:"Greenwich",state:"CT",lat:41.0262,lng:-73.6284},{name:"Hamden",state:"CT",lat:41.3959,lng:-72.9248},{name:"Meriden",state:"CT",lat:41.5382,lng:-72.807},{name:"Bristol",state:"CT",lat:41.6712,lng:-72.9493},{name:"West Hartford",state:"CT",lat:41.762,lng:-72.742},{name:"Milford",state:"CT",lat:41.2223,lng:-73.0565},{name:"Middletown",state:"CT",lat:41.5623,lng:-72.6506},{name:"Norwich",state:"CT",lat:41.5242,lng:-72.0759},{name:"New London",state:"CT",lat:41.3556,lng:-72.0995},{name:"Torrington",state:"CT",lat:41.8007,lng:-73.1212},{name:"Fairfield",state:"CT",lat:41.1612,lng:-73.2615},{name:"Providence",state:"RI",lat:41.824,lng:-71.4128},{name:"Cranston",state:"RI",lat:41.7798,lng:-71.4371},{name:"Warwick",state:"RI",lat:41.7001,lng:-71.4162},{name:"Pawtucket",state:"RI",lat:41.8787,lng:-71.3826},{name:"East Providence",state:"RI",lat:41.8137,lng:-71.3701},{name:"Woonsocket",state:"RI",lat:42.0029,lng:-71.5147},{name:"Newport",state:"RI",lat:41.4901,lng:-71.3128},{name:"Central Falls",state:"RI",lat:41.8904,lng:-71.3926},{name:"Westerly",state:"RI",lat:41.3776,lng:-71.827},{name:"Cumberland",state:"RI",lat:41.9665,lng:-71.4326},{name:"Portland",state:"ME",lat:43.6591,lng:-70.2568},{name:"Lewiston",state:"ME",lat:44.1004,lng:-70.2148},{name:"Bangor",state:"ME",lat:44.8016,lng:-68.7712},{name:"South Portland",state:"ME",lat:43.6415,lng:-70.2409},{name:"Auburn",state:"ME",lat:44.0979,lng:-70.2311},{name:"Biddeford",state:"ME",lat:43.4926,lng:-70.4533},{name:"Sanford",state:"ME",lat:43.439,lng:-70.774},{name:"Saco",state:"ME",lat:43.5009,lng:-70.4428},{name:"Augusta",state:"ME",lat:44.3106,lng:-69.7795},{name:"Westbrook",state:"ME",lat:43.677,lng:-70.3712},{name:"Waterville",state:"ME",lat:44.5323,lng:-69.6317},{name:"Presque Isle",state:"ME",lat:46.6811,lng:-68.0161},{name:"Bar Harbor",state:"ME",lat:44.3876,lng:-68.2039},{name:"Calais",state:"ME",lat:45.1737,lng:-67.2741},{name:"Ellsworth",state:"ME",lat:44.5434,lng:-68.4198},{name:"Manchester",state:"NH",lat:42.9956,lng:-71.4548},{name:"Nashua",state:"NH",lat:42.7654,lng:-71.4676},{name:"Concord",state:"NH",lat:43.2081,lng:-71.5376},{name:"Derry",state:"NH",lat:42.8804,lng:-71.3273},{name:"Dover",state:"NH",lat:43.1979,lng:-70.8737},{name:"Rochester",state:"NH",lat:43.3042,lng:-70.9759},{name:"Salem",state:"NH",lat:42.7876,lng:-71.2009},{name:"Merrimack",state:"NH",lat:42.8659,lng:-71.4995},{name:"Hudson",state:"NH",lat:42.7659,lng:-71.4342},{name:"Londonderry",state:"NH",lat:42.8653,lng:-71.3739},{name:"Keene",state:"NH",lat:42.9342,lng:-72.2815},{name:"Portsmouth",state:"NH",lat:43.0718,lng:-70.7626},{name:"Laconia",state:"NH",lat:43.5276,lng:-71.4703},{name:"Hampton",state:"NH",lat:42.9373,lng:-70.8187},{name:"Burlington",state:"VT",lat:44.4759,lng:-73.2121},{name:"Essex",state:"VT",lat:44.4906,lng:-73.1129},{name:"South Burlington",state:"VT",lat:44.4669,lng:-73.1709},{name:"Colchester",state:"VT",lat:44.5434,lng:-73.1317},{name:"Rutland",state:"VT",lat:43.6106,lng:-72.9726},{name:"Bennington",state:"VT",lat:42.8781,lng:-73.1968},{name:"Brattleboro",state:"VT",lat:42.8509,lng:-72.5579},{name:"Milton",state:"VT",lat:44.6365,lng:-73.1151},{name:"Hartford",state:"VT",lat:43.6506,lng:-72.319},{name:"Williston",state:"VT",lat:44.4434,lng:-73.0934},{name:"Middlebury",state:"VT",lat:44.0154,lng:-73.1673},{name:"Montpelier",state:"VT",lat:44.2601,lng:-72.5806},{name:"Philadelphia",state:"PA",lat:39.9526,lng:-75.1652},{name:"Pittsburgh",state:"PA",lat:40.4406,lng:-79.9959},{name:"Allentown",state:"PA",lat:40.6084,lng:-75.4901},{name:"Erie",state:"PA",lat:42.1292,lng:-80.0851},{name:"Reading",state:"PA",lat:40.3356,lng:-75.9269},{name:"Scranton",state:"PA",lat:41.409,lng:-75.6624},{name:"Bethlehem",state:"PA",lat:40.6259,lng:-75.3704},{name:"Lancaster",state:"PA",lat:40.0379,lng:-76.3055},{name:"Harrisburg",state:"PA",lat:40.2732,lng:-76.8839},{name:"York",state:"PA",lat:39.9626,lng:-76.7277},{name:"Altoona",state:"PA",lat:40.5187,lng:-78.3947},{name:"Wilkes-Barre",state:"PA",lat:41.2459,lng:-75.8813},{name:"Newark",state:"NJ",lat:40.7357,lng:-74.1724},{name:"Jersey City",state:"NJ",lat:40.7178,lng:-74.0431},{name:"Paterson",state:"NJ",lat:40.9168,lng:-74.1718},{name:"Elizabeth",state:"NJ",lat:40.664,lng:-74.2107},{name:"Edison",state:"NJ",lat:40.5187,lng:-74.4121},{name:"Woodbridge",state:"NJ",lat:40.5576,lng:-74.2846},{name:"Lakewood",state:"NJ",lat:40.0979,lng:-74.2179},{name:"Toms River",state:"NJ",lat:39.9537,lng:-74.1979},{name:"Hamilton",state:"NJ",lat:40.229,lng:-74.6598},{name:"Trenton",state:"NJ",lat:40.2206,lng:-74.7565},{name:"Camden",state:"NJ",lat:39.9259,lng:-75.1196},{name:"Clifton",state:"NJ",lat:40.8584,lng:-74.1638},{name:"Brick",state:"NJ",lat:40.0473,lng:-74.1354},{name:"Cherry Hill",state:"NJ",lat:39.9348,lng:-75.0307},{name:"Passaic",state:"NJ",lat:40.8568,lng:-74.1279},{name:"Union City",state:"NJ",lat:40.7662,lng:-74.0243},{name:"Bayonne",state:"NJ",lat:40.6687,lng:-74.1143},{name:"East Orange",state:"NJ",lat:40.7668,lng:-74.2049},{name:"Vineland",state:"NJ",lat:39.4864,lng:-75.026},{name:"New Brunswick",state:"NJ",lat:40.4862,lng:-74.4518},{name:"Hoboken",state:"NJ",lat:40.7439,lng:-74.0324},{name:"Plainfield",state:"NJ",lat:40.6337,lng:-74.4071},{name:"West New York",state:"NJ",lat:40.7878,lng:-74.0143},{name:"Hackensack",state:"NJ",lat:40.8859,lng:-74.0437},{name:"Sayreville",state:"NJ",lat:40.4595,lng:-74.3612},{name:"Kearny",state:"NJ",lat:40.7684,lng:-74.1454},{name:"Linden",state:"NJ",lat:40.622,lng:-74.2446},{name:"Atlantic City",state:"NJ",lat:39.3643,lng:-74.4229},{name:"Baltimore",state:"MD",lat:39.2904,lng:-76.6122},{name:"Columbia",state:"MD",lat:39.2037,lng:-76.861},{name:"Germantown",state:"MD",lat:39.1731,lng:-77.2717},{name:"Silver Spring",state:"MD",lat:38.9912,lng:-77.0261},{name:"Waldorf",state:"MD",lat:38.6206,lng:-76.9391},{name:"Glen Burnie",state:"MD",lat:39.1626,lng:-76.6247},{name:"Ellicott City",state:"MD",lat:39.2673,lng:-76.7983},{name:"Frederick",state:"MD",lat:39.4143,lng:-77.4105},{name:"Dundalk",state:"MD",lat:39.2709,lng:-76.5219},{name:"Rockville",state:"MD",lat:39.084,lng:-77.1528},{name:"Bethesda",state:"MD",lat:38.9807,lng:-77.102},{name:"Gaithersburg",state:"MD",lat:39.1434,lng:-77.2014},{name:"Annapolis",state:"MD",lat:38.9717,lng:-76.501},{name:"Bowie",state:"MD",lat:38.9426,lng:-76.7302},{name:"Hagerstown",state:"MD",lat:39.6418,lng:-77.72},{name:"Cumberland",state:"MD",lat:39.6526,lng:-78.7625},{name:"Salisbury",state:"MD",lat:38.3607,lng:-75.5994},{name:"Ocean City",state:"MD",lat:38.3365,lng:-75.0849},{name:"Washington",state:"DC",lat:38.9072,lng:-77.0369},{name:"Wilmington",state:"DE",lat:39.7391,lng:-75.5398},{name:"Dover",state:"DE",lat:39.1612,lng:-75.5264},{name:"Newark",state:"DE",lat:39.6837,lng:-75.7497},{name:"Middletown",state:"DE",lat:39.4495,lng:-75.7163},{name:"Smyrna",state:"DE",lat:39.2998,lng:-75.6046},{name:"Milford",state:"DE",lat:38.9129,lng:-75.4277},{name:"Seaford",state:"DE",lat:38.6412,lng:-75.611},{name:"Georgetown",state:"DE",lat:38.6901,lng:-75.3855},{name:"Elsmere",state:"DE",lat:39.7379,lng:-75.5924},{name:"New Castle",state:"DE",lat:39.662,lng:-75.5664},{name:"Chicago",state:"IL",lat:41.8781,lng:-87.6298},{name:"Los Angeles",state:"CA",lat:34.0522,lng:-118.2437},{name:"Houston",state:"TX",lat:29.7604,lng:-95.3698},{name:"Phoenix",state:"AZ",lat:33.4484,lng:-112.074},{name:"San Antonio",state:"TX",lat:29.4241,lng:-98.4936},{name:"San Diego",state:"CA",lat:32.7157,lng:-117.1611},{name:"Dallas",state:"TX",lat:32.7767,lng:-96.797},{name:"San Jose",state:"CA",lat:37.3382,lng:-121.8863},{name:"Austin",state:"TX",lat:30.2672,lng:-97.7431},{name:"Jacksonville",state:"FL",lat:30.3322,lng:-81.6557},{name:"Fort Worth",state:"TX",lat:32.7555,lng:-97.3308},{name:"Columbus",state:"OH",lat:39.9612,lng:-82.9988},{name:"San Francisco",state:"CA",lat:37.7749,lng:-122.4194},{name:"Charlotte",state:"NC",lat:35.2271,lng:-80.8431},{name:"Indianapolis",state:"IN",lat:39.7684,lng:-86.1581},{name:"Seattle",state:"WA",lat:47.6062,lng:-122.3321},{name:"Denver",state:"CO",lat:39.7392,lng:-104.9903},{name:"Detroit",state:"MI",lat:42.3314,lng:-83.0458},{name:"Nashville",state:"TN",lat:36.1627,lng:-86.7816},{name:"Memphis",state:"TN",lat:35.1495,lng:-90.049},{name:"Portland",state:"OR",lat:45.5152,lng:-122.6784},{name:"Oklahoma City",state:"OK",lat:35.4676,lng:-97.5164},{name:"Las Vegas",state:"NV",lat:36.1699,lng:-115.1398},{name:"Louisville",state:"KY",lat:38.2527,lng:-85.7585},{name:"Milwaukee",state:"WI",lat:43.0389,lng:-87.9065},{name:"Albuquerque",state:"NM",lat:35.0844,lng:-106.6504},{name:"Tucson",state:"AZ",lat:32.2226,lng:-110.9747},{name:"Fresno",state:"CA",lat:36.7378,lng:-119.7871},{name:"Sacramento",state:"CA",lat:38.5816,lng:-121.4944},{name:"Kansas City",state:"MO",lat:39.0997,lng:-94.5786},{name:"Mesa",state:"AZ",lat:33.4152,lng:-111.8315},{name:"Virginia Beach",state:"VA",lat:36.8529,lng:-75.978},{name:"Atlanta",state:"GA",lat:33.749,lng:-84.388},{name:"Colorado Springs",state:"CO",lat:38.8339,lng:-104.8214},{name:"Omaha",state:"NE",lat:41.2565,lng:-95.9345},{name:"Raleigh",state:"NC",lat:35.7796,lng:-78.6382},{name:"Miami",state:"FL",lat:25.7617,lng:-80.1918},{name:"Long Beach",state:"CA",lat:33.7701,lng:-118.1937},{name:"Virginia Beach",state:"VA",lat:36.8529,lng:-75.978},{name:"Oakland",state:"CA",lat:37.8044,lng:-122.2712},{name:"Minneapolis",state:"MN",lat:44.9778,lng:-93.265},{name:"Tulsa",state:"OK",lat:36.154,lng:-95.9928},{name:"Arlington",state:"TX",lat:32.7357,lng:-97.1081},{name:"Tampa",state:"FL",lat:27.9506,lng:-82.4572},{name:"New Orleans",state:"LA",lat:29.9511,lng:-90.0715},{name:"Wichita",state:"KS",lat:37.6872,lng:-97.3301},{name:"Cleveland",state:"OH",lat:41.4993,lng:-81.6944},{name:"Bakersfield",state:"CA",lat:35.3733,lng:-119.0187},{name:"Aurora",state:"CO",lat:39.7294,lng:-104.8319},{name:"Anaheim",state:"CA",lat:33.8366,lng:-117.9143},{name:"Honolulu",state:"HI",lat:21.3099,lng:-157.8581},{name:"Santa Ana",state:"CA",lat:33.7455,lng:-117.8677},{name:"Corpus Christi",state:"TX",lat:27.8006,lng:-97.3964},{name:"Riverside",state:"CA",lat:33.9533,lng:-117.3962},{name:"Lexington",state:"KY",lat:38.0406,lng:-84.5037},{name:"Stockton",state:"CA",lat:37.9577,lng:-121.2908},{name:"St. Paul",state:"MN",lat:44.9537,lng:-93.09},{name:"St. Louis",state:"MO",lat:38.627,lng:-90.1994},{name:"Pittsburgh",state:"PA",lat:40.4406,lng:-79.9959},{name:"Anchorage",state:"AK",lat:61.2181,lng:-149.9003},{name:"Cincinnati",state:"OH",lat:39.1031,lng:-84.512},{name:"Henderson",state:"NV",lat:36.0395,lng:-114.9817},{name:"Greensboro",state:"NC",lat:36.0726,lng:-79.792},{name:"Plano",state:"TX",lat:33.0198,lng:-96.6989},{name:"Newark",state:"NJ",lat:40.7357,lng:-74.1724},{name:"Lincoln",state:"NE",lat:40.8136,lng:-96.7026},{name:"Toledo",state:"OH",lat:41.6528,lng:-83.5379},{name:"Orlando",state:"FL",lat:28.5383,lng:-81.3792},{name:"Chula Vista",state:"CA",lat:32.6401,lng:-117.0842},{name:"Jersey City",state:"NJ",lat:40.7178,lng:-74.0431},{name:"Chandler",state:"AZ",lat:33.3062,lng:-111.8413},{name:"Laredo",state:"TX",lat:27.5306,lng:-99.4803},{name:"Madison",state:"WI",lat:43.0731,lng:-89.4012},{name:"Lubbock",state:"TX",lat:33.5779,lng:-101.8552},{name:"Winston-Salem",state:"NC",lat:36.0999,lng:-80.2442},{name:"Garland",state:"TX",lat:32.9126,lng:-96.6389},{name:"Glendale",state:"AZ",lat:33.5387,lng:-112.186},{name:"Hialeah",state:"FL",lat:25.8576,lng:-80.2781},{name:"Reno",state:"NV",lat:39.5296,lng:-119.8138},{name:"Baton Rouge",state:"LA",lat:30.4515,lng:-91.1871},{name:"Irvine",state:"CA",lat:33.6846,lng:-117.8265},{name:"Chesapeake",state:"VA",lat:36.7682,lng:-76.2875},{name:"Irving",state:"TX",lat:32.814,lng:-96.9489},{name:"Scottsdale",state:"AZ",lat:33.4942,lng:-111.9261},{name:"North Las Vegas",state:"NV",lat:36.1989,lng:-115.1175},{name:"Fremont",state:"CA",lat:37.5485,lng:-121.9886},{name:"Gilbert",state:"AZ",lat:33.3528,lng:-111.789},{name:"San Bernardino",state:"CA",lat:34.1083,lng:-117.2898},{name:"Boise",state:"ID",lat:43.615,lng:-116.2023},{name:"Birmingham",state:"AL",lat:33.5207,lng:-86.8025}],de=a=>{if(!a||a.length<1)return[];const n=a.toLowerCase().trim();return ne.map(s=>{const l=s.name.toLowerCase(),o=s.state.toLowerCase(),d=`${s.name}, ${s.state}`.toLowerCase();let g=0;return l===n&&(g+=100),d===n&&(g+=95),l.startsWith(n)&&(g+=50),o.startsWith(n)&&(g+=30),l.includes(n)&&(g+=20),o.includes(n)&&(g+=10),d.includes(n)&&(g+=15),{...s,score:g}}).filter(s=>s.score>0).sort((s,l)=>l.score-s.score).slice(0,15)},Fe=async a=>{try{const t=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&countrycodes=us&limit=5&q=${encodeURIComponent(a)}`)).json();if(t&&t.length>0)return t.map(s=>{var l;return{name:s.display_name.split(",")[0],state:((l=s.display_name.split(",")[1])==null?void 0:l.trim())||"Unknown",lat:parseFloat(s.lat),lng:parseFloat(s.lon)}})}catch(n){console.error("Geocoding API error:",n)}return[]},Ue="RipRapDB",Ge=1,qe=()=>new Promise((a,n)=>{const t=indexedDB.open(Ue,Ge);t.onerror=()=>n(t.error),t.onsuccess=()=>a(t.result),t.onupgradeneeded=s=>{const l=s.target.result;if(!l.objectStoreNames.contains("posts")){const o=l.createObjectStore("posts",{keyPath:"id",autoIncrement:!0});o.createIndex("timestamp","timestamp"),o.createIndex("location","location")}if(!l.objectStoreNames.contains("comments")){const o=l.createObjectStore("comments",{keyPath:"id",autoIncrement:!0});o.createIndex("postId","postId"),o.createIndex("timestamp","timestamp")}if(!l.objectStoreNames.contains("votes")){const o=l.createObjectStore("votes",{keyPath:"id",autoIncrement:!0});o.createIndex("postId","postId"),o.createIndex("userId","userId")}}}),ae=()=>{const a=["REEL","BIG","DEEP","LUCKY","MASTER","PRO","BASS","CATCH","FISHER","ANGLER"],n=["FISHER","CASTER","HUNTER","MASTER","CAPTAIN","ADMIRAL","SAILOR","KEEPER","LEGEND","HERO"],t=Math.floor(Math.random()*999)+1,s=a[Math.floor(Math.random()*a.length)],l=n[Math.floor(Math.random()*n.length)];return`${s}${l}${t}`},q=[{name:"Navy",value:"#1e3a8a",textClass:"text-blue-800"},{name:"Purple",value:"#7c3aed",textClass:"text-purple-600"},{name:"Green",value:"#059669",textClass:"text-emerald-600"},{name:"Orange",value:"#ea580c",textClass:"text-orange-600"},{name:"Red",value:"#dc2626",textClass:"text-red-600"},{name:"Teal",value:"#0d9488",textClass:"text-teal-600"},{name:"Pink",value:"#db2777",textClass:"text-pink-600"},{name:"Indigo",value:"#4338ca",textClass:"text-indigo-600"}],ze=(a=null,n=null)=>{let t=localStorage.getItem("riprap_user");if(!t||a){const s=q[0];t={id:crypto.randomUUID(),screenName:a||ae(),color:n||s,hasChangedName:!!a,createdAt:new Date().toISOString()},localStorage.setItem("riprap_user",JSON.stringify(t))}else t=JSON.parse(t),t.color||(t.color=q[0],localStorage.setItem("riprap_user",JSON.stringify(t)));return t},ee=(a,n)=>{const t={customLocation:a,locationRadius:n,savedAt:new Date().toISOString()};localStorage.setItem("riprap_location_settings",JSON.stringify(t))},ge=()=>{const a=localStorage.getItem("riprap_location_settings");return a?JSON.parse(a):{customLocation:null,locationRadius:10}},B=(a,n,t,s)=>{const o=(t-a)*Math.PI/180,d=(s-n)*Math.PI/180,g=Math.sin(o/2)*Math.sin(o/2)+Math.cos(a*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return 3959*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))},U={POST_COOLDOWN:3e4,VOTE_COOLDOWN:1e3,MAX_POSTS_PER_HOUR:10,MAX_VOTES_PER_MINUTE:30},ue=(a,n,t,s,l)=>{const d=Date.now()-a;return d<n?{allowed:!1,remainingTime:Math.ceil((n-d)/1e3)}:t>=s?{allowed:!1,remainingTime:Math.ceil(l/1e3)}:{allowed:!0,remainingTime:0}},Xe=["spam","scam","fake","bot","hack","cheat","exploit","idiot","stupid","hate","kill","die","suicide","buy now","click here","make money","get rich","free money"],Ke=[/(.)\1{4,}/g,/[A-Z]{10,}/g,/https?:\/\/[^\s]+/g,/\d{10,}/g,/[!@#$%^&*]{3,}/g],Ze=a=>{const n=a.toLowerCase(),t=[],s=Xe.filter(g=>n.includes(g));s.length>0&&t.push(`Contains inappropriate words: ${s.join(", ")}`),Ke.forEach(g=>{g.test(a)&&t.push("Contains suspicious patterns")}),a.length<3&&t.push("Content too short");const l=a.split(/\s+/),o={};return l.forEach(g=>{const u=g.toLowerCase().replace(/[^a-z]/g,"");u.length>2&&(o[u]=(o[u]||0)+1)}),Math.max(...Object.values(o))>3&&t.push("Excessive word repetition detected"),{allowed:t.length===0,issues:t,severity:t.length>2?"high":t.length>0?"medium":"low"}},he=(a,n)=>{let t=null,s=1/0;return Object.entries(W).forEach(([l,o])=>{const d=B(a,n,o.lat,o.lng);d<s&&(s=d,t=o)}),t?s<=25?t.name:`${Math.round(s)} miles from ${t.name}`:"Unknown Area"},G=(a,n)=>{let t=null,s=1/0;if(ne.forEach(o=>{const d=B(a,n,o.lat,o.lng);d<s&&(s=d,t=o)}),t&&s<=50)return`${t.name}, ${t.state}`;let l=null;return s=1/0,Object.entries(W).forEach(([o,d])=>{const g=B(a,n,d.lat,d.lng);g<s&&(s=g,l=d)}),l?l.name:"Unknown Location"},Qe=`
    o                 o
     \\               /
      \\             /
  ~~~~~~\\~~~~~~~~~~~/~~~~~~
         \\         /
          \\       /
           \\     /
            \\   /
             \\_/
              |
         ____/ \\____
        /           \\
       |   RIPRAP   |
        \\___________/
`,et=({onUsernameSet:a})=>{const[n,t]=m.useState(ae()),[s,l]=m.useState(q[0]),o=()=>{if(n.trim().length<3){alert("Username must be at least 3 characters");return}if(n.trim().length>20){alert("Username must be 20 characters or less");return}a(n.trim().toUpperCase(),s)},d=()=>{t(ae())};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 terminal-text",children:e.jsxs("div",{className:"w-full max-w-md mx-auto terminal-card p-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"ascii-art text-xs terminal-accent",children:Qe}),e.jsx("div",{className:"text-xl font-bold terminal-text",children:"Welcome to RipRap"}),e.jsx("div",{className:"text-sm terminal-text",children:"Choose your angler name to get started"})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold terminal-text block",children:"Your angler name:"}),e.jsx("input",{type:"text",value:n,onChange:g=>t(g.target.value.toUpperCase()),placeholder:"Enter username",className:"w-full h-10 px-3 py-2 terminal-input text-sm font-mono focus:outline-none focus:ring-2 focus:ring-navy-700",maxLength:20}),e.jsxs("div",{className:"text-xs terminal-accent",children:[n.length,"/20 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold terminal-text block",children:"Choose your color:"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:q.map(g=>e.jsx("button",{onClick:()=>l(g),className:`h-10 rounded border-2 ${s.name===g.name?"border-navy-700 ring-2 ring-navy-300":"border-gray-300 hover:border-gray-400"} focus:outline-none focus:ring-2 focus:ring-navy-700`,style:{backgroundColor:g.value},title:g.name},g.name))}),e.jsxs("div",{className:"text-xs terminal-accent",children:["Preview: ",e.jsx("span",{className:s.textClass,style:{fontWeight:"bold"},children:n})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 text-xs terminal-text",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Note:"})," You cannot change your username or color after creating your account. Choose carefully!"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:d,className:"h-10 px-3 py-2 terminal-button text-sm font-bold hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-700",children:"Generate New"}),e.jsx("button",{onClick:o,disabled:!n.trim()||n.trim().length<3,className:"h-10 px-3 py-2 terminal-button text-sm font-bold hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-700 disabled:terminal-button:disabled",children:"Start Fishing"})]}),e.jsxs("div",{className:"text-center text-xs terminal-text mt-4 space-y-1",children:[e.jsx("div",{children:"‚Ä¢ Anonymous fishing community"}),e.jsx("div",{children:"‚Ä¢ Location-based posts"}),e.jsx("div",{children:"‚Ä¢ Share catches, spots, and tips"})]})]})]})})},tt=({isOpen:a,onClose:n,user:t,userStats:s})=>{var l;return a?e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"w-full max-w-md terminal-card p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-lg font-bold terminal-text",children:"My Account"}),e.jsx("div",{className:"text-xs terminal-accent mt-1",children:"Device-based account"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-navy-50 p-4 rounded border",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:((l=t==null?void 0:t.color)==null?void 0:l.value)||"#1e3a8a"},children:t==null?void 0:t.screenName}),e.jsxs("div",{className:"text-xs terminal-accent mt-1",children:["Angler since ",new Date((t==null?void 0:t.createdAt)||Date.now()).toLocaleDateString()]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded text-center",children:[e.jsx("div",{className:"text-lg font-bold terminal-text",children:s.posts.length}),e.jsx("div",{className:"text-xs terminal-accent",children:"Posts"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded text-center",children:[e.jsx("div",{className:"text-lg font-bold terminal-text",children:s.comments.length}),e.jsx("div",{className:"text-xs terminal-accent",children:"Comments"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-bold terminal-text",children:"Recent Posts"}),e.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2",children:[s.posts.slice(0,5).map((o,d)=>e.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs",children:[e.jsx("div",{className:"font-mono",children:o.content}),e.jsxs("div",{className:"text-gray-500 mt-1",children:["‚ñ≤ ",o.upvotes||0," ‚ñº ",o.downvotes||0]})]},d)),s.posts.length===0&&e.jsx("div",{className:"text-xs terminal-accent text-center py-4",children:"No posts yet. Start sharing your catches!"})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 text-xs",children:[e.jsx("div",{className:"font-bold text-yellow-800 mb-2",children:"Account Persistence"}),e.jsxs("div",{className:"text-yellow-700 space-y-1",children:[e.jsx("div",{children:"‚Ä¢ Account saved to this device"}),e.jsx("div",{children:"‚Ä¢ Clear cache = lose account"}),e.jsx("div",{children:"‚Ä¢ Different device = new account"})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:n,className:"w-full h-10 px-3 py-2 border-2 border-navy-700 bg-white text-navy-700 text-sm font-bold hover:bg-navy-50 focus:outline-none focus:ring-2 focus:ring-navy-700",children:"Close"})})]})]})}):null},at=({isOpen:a,onClose:n,onLocationSet:t,currentLocation:s})=>{const[l,o]=m.useState("");m.useState("");const[d,g]=m.useState(!1),[u,R]=m.useState([]),[j,S]=m.useState(!1);if(!a)return null;const _=h=>{if(o(h),h.length>=1){const v=de(h);R(v),S(v.length>0)}else R([]),S(!1)},E=h=>{o(`${h.name}, ${h.state}`),R([]),S(!1),t({lat:h.lat,lng:h.lng,name:`${h.name}, ${h.state}`}),n()},A=async()=>{if(!l.trim()){alert("Please enter a city name");return}g(!0);const h=ne.find(b=>`${b.name}, ${b.state}`.toLowerCase()===l.toLowerCase()||b.name.toLowerCase()===l.toLowerCase());if(h){t({lat:h.lat,lng:h.lng,name:`${h.name}, ${h.state}`}),n(),g(!1);return}const v=de(l);if(v.length>0&&v[0].score>50){const b=v[0];t({lat:b.lat,lng:b.lng,name:`${b.name}, ${b.state}`}),n(),g(!1);return}try{const b=await Fe(l);if(b.length>0){const y=b[0];t({lat:y.lat,lng:y.lng,name:`${y.name}, ${y.state}`}),n(),g(!1);return}}catch(b){console.error("API geocoding failed:",b)}g(!1),alert("City not found. Please check spelling or select from autocomplete suggestions.")},H=[{id:"current",name:"Use Current Location",coords:null},...Object.entries(W).map(([h,v])=>({id:h,name:v.name,coords:v}))],Y=h=>{h.id==="current"?t(null):t(h.coords),n()};return e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"w-full max-w-md terminal-card p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-lg font-bold terminal-text",children:"Set Location"}),e.jsx("div",{className:"text-xs terminal-accent mt-1",children:"Choose where to view fishing posts"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center text-xs terminal-accent",children:"Select a location:"}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("label",{className:"text-sm font-bold terminal-text block",children:"Enter City, State:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:l,onChange:h=>_(h.target.value),placeholder:"Boston, MA",className:"flex-1 h-10 px-3 py-2 terminal-input text-sm focus:outline-none focus:ring-2 focus:ring-navy-700",onFocus:()=>l.length>=1&&S(u.length>0),onBlur:()=>setTimeout(()=>S(!1),200),onKeyPress:h=>h.key==="Enter"&&A()}),e.jsx("button",{onClick:A,disabled:!l.trim()||d,className:"px-4 py-2 terminal-button text-sm font-bold hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-700 disabled:opacity-50",children:d?"...":"Set"})]}),j&&u.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:u.map((h,v)=>e.jsxs("button",{onClick:()=>E(h),className:"w-full text-left px-3 py-2 text-sm hover:bg-navy-50 border-b border-gray-100 last:border-b-0",children:[h.name,", ",h.state]},v))})]}),e.jsx("div",{className:"text-center text-xs terminal-accent",children:"or choose a fishing hotspot:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold terminal-text block",children:"Northeast Striped Bass Locations:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:H.map(h=>e.jsx("button",{onClick:()=>Y(h),className:"w-full text-left px-3 py-2 text-sm hover:bg-navy-50 border border-gray-300 hover:border-navy-300 focus:outline-none focus:ring-2 focus:ring-navy-700",children:h.name},h.id))})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:n,className:"w-full h-10 px-3 py-2 border-2 border-navy-700 bg-white text-navy-700 text-sm font-bold hover:bg-navy-50 focus:outline-none focus:ring-2 focus:ring-navy-700",children:"Cancel"})})]})]})})},nt=({isOpen:a,onClose:n,onSubmit:t,newPostContent:s,setNewPostContent:l,isOnline:o})=>{if(!a)return null;const d=()=>{s.trim()&&(t(),n())};return e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"w-full max-w-md terminal-card p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:s,onChange:g=>l(g.target.value),placeholder:"Post your weather and/or fishing reports, questions from the water, callouts of bad behavior...",className:"w-full h-24 px-3 py-2 terminal-input text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-navy-700",maxLength:200,autoFocus:!0}),e.jsxs("div",{className:"text-xs terminal-accent",children:[s.length,"/200 characters"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:n,className:"h-10 px-3 py-2 border-2 border-navy-700 bg-white text-navy-700 text-sm font-bold hover:bg-navy-50 focus:outline-none focus:ring-2 focus:ring-navy-700",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:!s.trim()||!o,className:"h-10 px-3 py-2 terminal-button text-sm font-bold hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-700 disabled:terminal-button:disabled",children:"Post"})]})]})})})},st=({post:a,onVote:n,onComment:t,onReport:s,userVotes:l,comments:o,showLocation:d=!1})=>{var b;const[g,u]=m.useState(!1),[R,j]=m.useState(""),[S,_]=m.useState(!1),E=l.find(y=>y.postId===a.id),A=o.filter(y=>y.postId===a.id),H=y=>{n(a.id,y)},Y=()=>{R.trim()&&R.length<=200&&(t(a.id,R.trim()),j(""))},h=()=>{s(a.id),_(!0),setTimeout(()=>_(!1),3e3)},v=y=>{const L=new Date,X=new Date(y),D=Math.floor((L-X)/1e3);return D<60?"NOW":D<3600?`${Math.floor(D/60)}M`:D<86400?`${Math.floor(D/3600)}H`:`${Math.floor(D/86400)}D`};return a.score<=-5?null:e.jsxs("div",{className:"py-4 border-b border-gray-300 last:border-b-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-navy-700 text-white flex items-center justify-center text-xs font-bold",children:a.author.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"font-bold text-sm",style:{color:((b=a.authorColor)==null?void 0:b.value)||"#1e3a8a"},children:a.author})}),e.jsx("div",{className:"text-xs terminal-accent",children:d&&a.location.name?e.jsxs(e.Fragment,{children:["üìç ",a.location.name]}):a.location.nearestCity?e.jsxs(e.Fragment,{children:["üìç ",a.location.nearestCity]}):e.jsxs(e.Fragment,{children:[a.location.distance,"mi away"]})})]})]}),e.jsx("button",{onClick:h,className:`text-xs px-2 py-1 ${S?"text-gray-500":"text-red-600 hover:text-red-700"} focus:outline-none`,disabled:S,children:S?"‚úì":"üö©"})]}),e.jsx("div",{className:"mb-3 p-3 bg-white border-2 border-navy-700",children:e.jsx("div",{className:"terminal-text text-sm font-mono",children:a.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>H("up"),className:`px-2 py-1 text-sm ${(E==null?void 0:E.type)==="up"?"text-green-600 font-bold":"text-gray-600 hover:text-green-600"} focus:outline-none`,children:["‚ñ≤ ",a.upvotes]}),e.jsxs("button",{onClick:()=>H("down"),className:`px-2 py-1 text-sm ${(E==null?void 0:E.type)==="down"?"text-red-600 font-bold":"text-gray-600 hover:text-red-600"} focus:outline-none`,children:["‚ñº ",a.downvotes]}),e.jsxs("div",{className:`px-2 py-1 text-xs font-bold ${a.score>0?"text-green-600":a.score<0?"text-red-600":"text-gray-600"}`,children:[a.score>0?"+":"",a.score]})]}),e.jsxs("button",{onClick:()=>u(!g),className:"px-2 py-1 text-sm text-gray-600 hover:text-navy-700 focus:outline-none",children:["üí¨ ",A.length]})]}),g&&e.jsxs("div",{className:"mt-4 space-y-3 border-t-2 border-navy-700 pt-4",children:[A.map(y=>{var L;return e.jsxs("div",{className:"bg-gray-100 border-2 border-navy-700 p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("div",{className:"w-4 h-4 bg-navy-700 text-white flex items-center justify-center text-xs font-bold",children:y.author.charAt(0)}),e.jsx("span",{className:"font-bold text-xs",style:{color:((L=y.authorColor)==null?void 0:L.value)||"#1e3a8a"},children:y.author}),e.jsx("span",{className:"text-xs terminal-accent",children:v(y.timestamp)})]}),e.jsx("div",{className:"terminal-text text-xs font-mono pl-6",children:y.content})]},y.id)}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("textarea",{value:R,onChange:y=>j(y.target.value),placeholder:"Add a comment...",className:"flex-1 h-16 px-2 py-1 terminal-input text-xs font-mono focus:outline-none focus:ring-2 focus:ring-navy-700 resize-none",maxLength:200}),e.jsx("button",{onClick:Y,disabled:!R.trim(),className:"px-3 py-1 terminal-button text-xs font-bold hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-700 disabled:terminal-button:disabled",children:"Send"})]}),e.jsxs("div",{className:"text-xs terminal-accent",children:[R.length,"/200 characters"]})]})]})},lt=()=>{var ce;const[a,n]=m.useState([]),[t,s]=m.useState([]),[l,o]=m.useState([]),[d,g]=m.useState(""),[u,R]=m.useState(null),[j,S]=m.useState(null),[_,E]=m.useState(navigator.onLine),[A,H]=m.useState(null),[Y,h]=m.useState(!1),[v,b]=m.useState("hot"),[y,L]=m.useState(""),[X,D]=m.useState(!1),[pe,se]=m.useState(!1),[K,J]=m.useState(null),[ve,le]=m.useState(!1),[T,oe]=m.useState(10),[Ne,ye]=m.useState({posts:[],comments:[]});m.useState(Date.now()),m.useRef(null);const[be,we]=m.useState(0),[Ce,je]=m.useState(0),[Se,Me]=m.useState(0),[Ae,Pe]=m.useState(0),[Z,re]=m.useState(20),[V,ie]=m.useState(!1);m.useRef(null),m.useEffect(()=>{const i=localStorage.getItem("riprap_user");i?R(JSON.parse(i)):h(!0);const x=ge();oe(x.locationRadius),x.customLocation&&(J(x.customLocation),L(x.customLocation.name))},[]),m.useEffect(()=>{if(!u)return;(async()=>{try{const c=await qe();H(c),await $(c,u.id)}catch(c){console.error("Failed to initialize database:",c)}const p=ge();if(p.customLocation)S(p.customLocation),L(p.customLocation.name),console.log("Using saved custom location:",p.customLocation);else if(navigator.geolocation)navigator.geolocation.getCurrentPosition(c=>{const N=c.coords.latitude,w=c.coords.longitude;S({lat:N,lng:w}),L(he(N,w)),console.log("GPS location acquired:",{lat:N,lng:w})},c=>{console.error("GPS location failed:",c.message);const N=W["cape-cod-ma"];S(N),L(`${N.name} (Default)`)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5});else{console.warn("Geolocation not supported");const c=W["cape-cod-ma"];S(c),L(`${c.name} (Default)`)}})();const x=()=>E(!0),r=()=>E(!1);return window.addEventListener("online",x),window.addEventListener("offline",r),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",r)}},[u]),m.useEffect(()=>{u&&a&&t&&Ie()},[a,t,u,l]),m.useEffect(()=>{T!==10&&ee(K,T)},[T,K]),m.useEffect(()=>{const i=()=>{if(v==="coastwide")return;const x=window.pageYOffset||document.documentElement.scrollTop,r=document.documentElement.scrollHeight,p=window.innerHeight;x+p>=r-1e3&&!V&&(ie(!0),setTimeout(()=>{re(c=>c+10),ie(!1)},500))};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[v,V]),m.useEffect(()=>{re(20)},[v]);const Re=(i,x)=>{const r=ze(i,x);R(r),h(!1)},Ie=()=>{if(!u||!a||!t)return;const i=a.filter(r=>r.authorId===u.id),x=t.filter(r=>r.authorId===u.id);ye({posts:i,comments:x})},Le=async i=>{i?(S(i),J(i),L(i.name),ee(i,T)):"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(x=>{const r={lat:x.coords.latitude,lng:x.coords.longitude};S(r),J(null);const p=he(r.lat,r.lng);L(p),ee(null,T)},()=>{console.error("Failed to get current location"),J(null)})},$=async(i,x)=>{try{const r=i.transaction(["posts","comments","votes"],"readonly"),p=r.objectStore("posts").getAll(),c=await new Promise((O,C)=>{p.onsuccess=()=>O(p.result),p.onerror=()=>C(p.error)}),N=r.objectStore("comments").getAll(),w=await new Promise((O,C)=>{N.onsuccess=()=>O(N.result),N.onerror=()=>C(N.error)}),f=r.objectStore("votes").index("userId").getAll(x),k=await new Promise((O,C)=>{f.onsuccess=()=>O(f.result),f.onerror=()=>C(f.error)});n(c||[]),s(w||[]),o(k||[])}catch(r){console.error("Failed to load data:",r)}},Ee=()=>{if(v==="coastwide")return a.map(c=>({...c,location:{...c.location,distance:j?Math.round(B(j.lat,j.lng,c.location.lat,c.location.lng)*10)/10:0,nearestCity:c.location.nearestCity||G(c.location.lat,c.location.lng),name:c.location.nearestCity||G(c.location.lat,c.location.lng)}})).filter(c=>c.location.lng>-82&&c.location.lng<-66).sort((c,N)=>{const w=t.filter(P=>P.postId===c.id).length,f=t.filter(P=>P.postId===N.id).length,k=(Date.now()-new Date(c.timestamp))/(1e3*60*60),O=(Date.now()-new Date(N.timestamp))/(1e3*60*60),C=c.score+w*3-k*.05;return N.score+f*3-O*.05-C}).slice(0,3);if(!j)return a.slice(0,Z);const i=K||j;let x=a.filter(r=>r.location.lat&&r.location.lng?B(i.lat,i.lng,r.location.lat,r.location.lng)<=T:!0);return x=x.map(r=>({...r,location:{...r.location,distance:Math.round(B((i==null?void 0:i.lat)||0,(i==null?void 0:i.lng)||0,r.location.lat,r.location.lng)*10)/10,nearestCity:r.location.nearestCity||G(r.location.lat,r.location.lng)}})),v==="hot"?x.sort((r,p)=>{const c=t.filter(C=>C.postId===r.id).length,N=t.filter(C=>C.postId===p.id).length,w=(Date.now()-new Date(r.timestamp))/(1e3*60*60),f=(Date.now()-new Date(p.timestamp))/(1e3*60*60),k=r.score+c*2-w*.1;return p.score+N*2-f*.1-k}):x.sort((r,p)=>new Date(p.timestamp)-new Date(r.timestamp)),x.slice(0,Z)},ke=async()=>{if(!d.trim()||!A||!u||!j)return;const i=ue(be,U.POST_COOLDOWN,Se,U.MAX_POSTS_PER_HOUR,36e5);if(!i.allowed){alert(`Please wait ${i.remainingTime} seconds before posting again.`);return}const x=Ze(d.trim());if(!x.allowed){alert(`Post blocked: ${x.issues.join(", ")}`);return}const r={content:d.trim(),author:u.screenName,authorId:u.id,authorColor:u.color,timestamp:new Date().toISOString(),upvotes:0,downvotes:0,score:0,location:{lat:j.lat,lng:j.lng,distance:0,nearestCity:G(j.lat,j.lng)}};try{const c=A.transaction(["posts"],"readwrite").objectStore("posts");await new Promise((N,w)=>{const f=c.add(r);f.onsuccess=()=>N(f.result),f.onerror=()=>w(f.error)}),await $(A,u.id),g(""),we(Date.now()),Me(N=>N+1)}catch(p){console.error("Failed to create post:",p)}},De=async(i,x)=>{if(!A||!u)return;const r=ue(Ce,U.VOTE_COOLDOWN,Ae,U.MAX_VOTES_PER_MINUTE,6e4);if(!r.allowed){console.log(`Vote rate limited: ${r.remainingTime}s remaining`);return}try{const p=A.transaction(["posts","votes"],"readwrite"),c=p.objectStore("posts"),N=p.objectStore("votes"),w=c.get(i),f=await new Promise((M,P)=>{w.onsuccess=()=>M(w.result),w.onerror=()=>P(w.error)}),k=N.index("postId").getAll(i),C=(await new Promise((M,P)=>{k.onsuccess=()=>M(k.result),k.onerror=()=>P(k.error)})).find(M=>M.userId===u.id);if(C)C.type===x?(await new Promise((M,P)=>{const I=N.delete(C.id);I.onsuccess=()=>M(),I.onerror=()=>P(I.error)}),x==="up"?f.upvotes=Math.max(0,f.upvotes-1):f.downvotes=Math.max(0,f.downvotes-1)):(C.type=x,await new Promise((M,P)=>{const I=N.put(C);I.onsuccess=()=>M(),I.onerror=()=>P(I.error)}),x==="up"?(f.upvotes+=1,f.downvotes=Math.max(0,f.downvotes-1)):(f.downvotes+=1,f.upvotes=Math.max(0,f.upvotes-1)));else{const M={postId:i,userId:u.id,type:x,timestamp:new Date().toISOString()};await new Promise((P,I)=>{const Q=N.add(M);Q.onsuccess=()=>P(),Q.onerror=()=>I(Q.error)}),x==="up"?f.upvotes+=1:f.downvotes+=1}f.score=f.upvotes-f.downvotes,await new Promise((M,P)=>{const I=c.put(f);I.onsuccess=()=>M(),I.onerror=()=>P(I.error)}),await $(A,u.id),je(Date.now()),Pe(M=>M+1)}catch(p){console.error("Failed to vote:",p)}},Te=async(i,x)=>{if(!A||!u)return;const r={postId:i,content:x,author:u.screenName,authorId:u.id,authorColor:u.color,timestamp:new Date().toISOString()};try{const c=A.transaction(["comments"],"readwrite").objectStore("comments");await new Promise((N,w)=>{const f=c.add(r);f.onsuccess=()=>N(f.result),f.onerror=()=>w(f.error)}),await $(A,u.id)}catch(p){console.error("Failed to comment:",p)}},Oe=i=>{console.log("Post reported:",i)},F=Ee();return Y?e.jsx(et,{onUsernameSet:Re}):e.jsxs("div",{className:"min-h-screen bg-gray-50 terminal-text overflow-x-hidden",children:[e.jsx(tt,{isOpen:ve,onClose:()=>le(!1),user:u,userStats:Ne}),e.jsx(at,{isOpen:pe,onClose:()=>se(!1),onLocationSet:Le,currentLocation:j}),e.jsx(nt,{isOpen:X,onClose:()=>D(!1),onSubmit:ke,newPostContent:d,setNewPostContent:g,isOnline:_}),e.jsx("button",{onClick:()=>D(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-12 h-12 sm:w-14 sm:h-14 bg-navy-700 text-white rounded-full shadow-lg hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-300 flex items-center justify-center text-xl sm:text-2xl z-40",style:{maxWidth:"calc(100vw - 2rem)"},title:"Create new post",children:"+"}),e.jsxs("div",{className:"max-w-2xl mx-auto px-2 sm:px-0",children:[e.jsx("div",{className:"terminal-header sticky top-0 z-40 p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white tracking-wider",children:"RIPRAP"}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"text-xs",children:"Share the Shore, Spill the Lore"})})]}),e.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2",children:e.jsx("button",{onClick:()=>le(!0),className:"flex items-center space-x-1 text-xs sm:text-sm font-bold px-3 py-2 bg-white border-2 border-navy-600 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-navy-300 shadow-sm",style:{color:((ce=u==null?void 0:u.color)==null?void 0:ce.value)||"#1e3a8a"},children:e.jsx("span",{children:u==null?void 0:u.screenName})})})]})}),e.jsxs("div",{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"p-3 terminal-card",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>se(!0),className:"w-full text-left hover:bg-navy-50 focus:outline-none focus:ring-2 focus:ring-navy-300 rounded p-2",children:[e.jsx("div",{className:"text-sm font-bold terminal-text mb-1",children:"üìç Local Area:"}),e.jsx("div",{className:"text-xs terminal-accent",children:y}),e.jsx("div",{className:"text-xs text-navy-600 mt-1",children:"Click to change location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-bold terminal-text block",children:["Search Radius: ",T," miles"]}),e.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:T,onChange:i=>oe(parseInt(i.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-navy"}),e.jsxs("div",{className:"flex justify-between text-xs terminal-accent",children:[e.jsx("span",{children:"5 mi"}),e.jsxs("span",{children:["Show posts within ",T," miles"]}),e.jsx("span",{children:"100 mi"})]})]})]})}),e.jsxs("div",{className:"terminal-card p-3",children:[e.jsx("div",{className:"text-sm font-bold terminal-text mb-2",children:"Sort by:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{onClick:()=>b("hot"),className:`px-3 py-2 text-sm font-bold border-2 ${v==="hot"?"terminal-button":"border-navy-600 bg-white text-navy-600 hover:bg-navy-50"} focus:outline-none focus:ring-2 focus:ring-navy-600`,children:"üî• Hot"}),e.jsx("button",{onClick:()=>b("new"),className:`px-3 py-2 text-sm font-bold border-2 ${v==="new"?"terminal-button":"border-navy-600 bg-white text-navy-600 hover:bg-navy-50"} focus:outline-none focus:ring-2 focus:ring-navy-600`,children:"‚≠ê New"}),e.jsx("button",{onClick:()=>b("coastwide"),className:`px-3 py-2 text-sm font-bold border-2 ${v==="coastwide"?"terminal-button":"border-navy-600 bg-white text-navy-600 hover:bg-navy-50"} focus:outline-none focus:ring-2 focus:ring-navy-600`,children:"üåä Coastwide"})]}),v==="coastwide"&&e.jsx("div",{className:"text-xs terminal-accent mt-2",children:"Top 3 posts from across the East Coast"})]})]}),e.jsx("div",{className:"p-4",children:F.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üé£"}),e.jsx("div",{className:"text-sm font-bold terminal-text mb-2",children:v==="coastwide"?"No trending posts found":"No posts in your area"}),e.jsx("div",{className:"text-xs terminal-accent",children:v==="coastwide"?"Check back later for trending discussions!":"Be the first to share what's happening on the water!"})]}):e.jsxs(e.Fragment,{children:[F.map((i,x)=>e.jsxs("div",{children:[e.jsx(st,{post:i,onVote:De,onComment:Te,onReport:Oe,userVotes:l,comments:t,showLocation:v==="coastwide"}),v==="coastwide"&&x<F.length-1&&e.jsx("div",{className:"border-t-2 border-navy-300 my-4"})]},i.id)),V&&v!=="coastwide"&&e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-sm terminal-accent",children:"Loading more posts..."})}),!V&&v!=="coastwide"&&F.length>=Z&&e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-xs terminal-accent",children:"Scroll down for more posts"})})]})}),e.jsxs("div",{className:"p-4 text-center text-xs terminal-accent bg-gray-100 border-t-2 border-navy-700",children:[e.jsx("div",{children:"üé£ Tight lines and good catches!"}),e.jsx("div",{children:"Anonymous ‚Ä¢ Location-based ‚Ä¢ Fishing community"})]})]})]})};te.createRoot(document.getElementById("root")).render(e.jsx(He.StrictMode,{children:e.jsx(lt,{})}));
//# sourceMappingURL=index-b82fa284.js.map
